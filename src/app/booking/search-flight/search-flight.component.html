<mat-card>
  <mat-card-header>
    <mat-card-title>{{title}}</mat-card-title>
    <mat-card-subtitle>{{subtitle}}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="form">
      <mat-form-field class="location">
        <mat-label>Skąd:</mat-label>
        <input
          (click)="clearAutocompleteOptions()"
          matInput
          type="text"
          formControlName="sourceLocation"
          [matAutocomplete]="srcAc"
          (input)="getAutocompleteAirportsOptions($event)"
          />
          <mat-autocomplete #srcAc>
            <mat-option *ngFor="let option of autocompleteOptions | async" [value]="option.name.concat(', ', option.city, ', ', option.country)">
              {{option.city}}, {{option.country}}, {{option.name}}            </mat-option>
          </mat-autocomplete>
      </mat-form-field>

      <mat-form-field class="date">
        <mat-label>Data wylotu:</mat-label>
        <input matInput [matDatepicker]="departureDp" formControlName="departureDate"/>
        <mat-datepicker-toggle matSuffix [for]="departureDp"></mat-datepicker-toggle>
        <mat-datepicker #departureDp></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="location">
        <mat-label>Dokąd:</mat-label>
        <input
          matInput
          type="text"
          formControlName="destinationLocation"
          [matAutocomplete]="dstAc"
          (click)="clearAutocompleteOptions()"
          (input)="getAutocompleteAirportsOptions($event)"
          />
          <mat-autocomplete #dstAc>
            <mat-option *ngFor="let option of autocompleteOptions | async" [value]="option.name.concat(', ', option.city, ', ', option.country)">
              {{option.city}}, {{option.country}}, {{option.name}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>

      <mat-form-field class="date">
        <mat-label>Data przylotu:</mat-label>
        <input matInput [matDatepicker]="arrivalDp" formControlName="arrivalDate"/>
        <mat-datepicker-toggle matSuffix [for]="arrivalDp"></mat-datepicker-toggle>
        <mat-datepicker #arrivalDp></mat-datepicker>
      </mat-form-field>

      <!-- <mat-form-field>
        <mat-label>Zakres daty wylotu:</mat-label>
        <mat-date-range-input [rangePicker]="departureDp">
          <input
            matInput
            matStartDate
            placeholder="od"
            formControlName="departureDateStart" />
          <input
            matInput
            matEndDate
            placeholder="do"
            formControlName="departureDateEnd" />
        </mat-date-range-input>

        <mat-datepicker-toggle matSuffix [for]="departureDp"></mat-datepicker-toggle>
        <mat-date-range-picker #departureDp></mat-date-range-picker>
      </mat-form-field> -->

      <!-- <mat-form-field>
        <mat-label>Maksymalna liczba przesiadek:</mat-label>
        <input
          matInput
          type="number"
          min="0"
          max="4"
          formControlName="maxIntermediateFlights" />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Maksymalny czas między przesiadkami:</mat-label>
        <input
          matInput
          min="1"
          max="48"
          type="number"
          formControlName="maxIntervalBetweenFlights" />
      </mat-form-field> -->

      <!-- <mat-form-field>
        <mat-label>Liczba pasażerów:</mat-label>
        <input matInput type="number" formControlName="passengersNumber" />
      </mat-form-field> -->

      <mat-checkbox color="primary" formControlName="bothWays">W dwie strony?</mat-checkbox>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button color="primary" [disabled]="form.invalid" (click)="onSubmit()">Szukaj</button>
  </mat-card-actions>
</mat-card>
